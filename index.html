<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Página em branco</title>
    <style>
      body {
        display: flex;
        text-align: center;
        align-items: center;
        justify-content: center;
        height: 100vh;
        width: 100vw;
        background: linear-gradient(blue, white);
        background-size: contain;
        background-repeat: no-repeat;
        font-family: Arial, Helvetica, sans-serif;
        flex-direction: column;
      }

      .container {
        background-color: white;
        padding: 0px 10px 50px 10px;
        text-align: center;
        border-radius: 10px;
      }

      h1 {
        font-family: Arial, Helvetica, sans-serif;
        background: white;
        padding: 10px;
        border-radius: 20px;
        font-size: 25px;
      }

      button {
        padding: 10px;
        color: black;
        background-color: white;
        cursor: pointer;
        border-radius: 10px;
      }

      .container-products {
        display: none;
        background-color: white;
        margin-top: 20px;
        flex-direction: column;
        padding: 0px 15px 10px 15px;
        border-radius: 10px;
      }

      .container-fechar {
        text-align: right;
      }

      .container-fechar p {
        font-size: 20px;
        cursor: pointer;
      }

      .container-products label {
        color: white;
        font-size: 15px;
        font-family: "Lucida Sans", "Lucida Sans Regular", "Lucida Grande", "Lucida Sans Unicode", Geneva, Verdana, sans-serif;
      }

      .container-info {
        display: flex;
        width: 100%;
        padding-left: 5px;
        margin-bottom: 10px;
        text-align: center;
        align-items: center;
        justify-content: space-between;
        border: 1px solid rgba(0, 0, 0, 0.241);
        background-color: rgb(147, 147, 246);
        box-sizing: border-box;
      }

      .container-info label {
        flex: 1;
        text-align: right;
        padding-right: 10px;
      }

      .container-info input {
        flex: 2;
        padding: 5px;
        width: 100%;
        outline: none;
        box-sizing: border-box;
      }

      .container-img {
        display: flex;
        text-align: center;
        align-items: center;
        justify-content: space-around;
      }

      button {
        color: white;
        background-color: rgb(147, 147, 246);
        margin-top: 10px;
        width: 100px;
        border: 0;
        cursor: pointer;
        font-weight: bold;
        font-family: "Lucida Sans", "Lucida Sans Regular", "Lucida Grande", "Lucida Sans Unicode", Geneva, Verdana, sans-serif;
      }

      button:hover {
        background-color: rgba(46, 46, 243, 0.606);
        transition: 1s;
      }

      .container-lista-produtos {
        display: none;
        margin-top: 10px;
        padding: 10px;
        width: 350px;
        background-color: white;
      }

      .container-icones {
        display: flex;
        text-align: center;
        align-items: center;
        justify-content: space-between;
        border: 2px solid rgba(0, 0, 0, 0.361);
        margin-bottom: 10px;
        padding: 10px;
      }

      .container-icones img {
        margin-left: 10px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <!-- Container Principal "Cadastro de produtos" -->
    <div class="container" id="container">
      <h1>Cadastro de produto</h1>
      <div class="container-img">
        <img src="./public/imagens/adicionar-produto.png" alt="" height="50px">
        <img src="./public/imagens/lista-de-desejos.png" alt="" height="35px">
      </div>

      <div class="container-cadastro">
        <div class="container-interacoes">
          <div>
            <button onclick="cadastrarProduto()">Cadastrar produto</button>
            <button onclick="listarProdutos()">Listar produtos</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Container do cadastro do produto -->
    <div class="container-products" id="container-products">
      <div class="container-fechar">
        <p onclick="fecharcontainer()">X</p>
      </div>
      <div class="container-info">
        <label> Nome </label>
        <input id="nome" type="text" placeholder="Nome do produto" required /><br />
      </div>

      <div class="container-info">
        <label> Descrição </label>
        <input id="descricao" type="text" placeholder="Descrição..." required /><br />
      </div>

      <div class="container-info">
        <label> Preço </label>
        <input id="preco" type="number" placeholder="Preço do produto" required /><br />
      </div>

      <div class="container-info">
        <label> Peso </label>
        <input id="peso" type="number" placeholder="Peso do produto" required /><br />
      </div>

      <button onclick="enviarCadastro()" class="btn-envio">Enviar</button>
    </div>

    <!-- Container "Listar Produtos" display:none-->
    <div class="container-lista-products" >
      <div class="container-lista-produtos" id="container-lista-produtos">
          <div class="container-icones">
            <p> PRODUTO </p>
              <div>
                <img src="./public/imagens/editar.png" alt="Editar registro" height="25px">
                <img src="./public/imagens/lixeira-de-reciclagem.png" alt="Excluir registro" height="25px">
              </div>
          </div>

          <div class="container-icones">
            <p> PRODUTO </p>
              <div>
                <img src="./public/imagens/editar.png" alt="Editar registro" height="25px">
                <img src="./public/imagens/lixeira-de-reciclagem.png" alt="Excluir registro" height="25px">
              </div>
          </div>

          <div class="container-icones">
            <p> PRODUTO </p>
              <div>
                <img src="./public/imagens/editar.png" alt="Editar registro" height="25px">
                <img src="./public/imagens/lixeira-de-reciclagem.png" alt="Excluir registro" height="25px">
              </div>
          </div>

          <div class="container-icones">
            <p> PRODUTO </p>
              <div>
                <img src="./public/imagens/editar.png" alt="Editar registro" height="25px">
                <img src="./public/imagens/lixeira-de-reciclagem.png" alt="Excluir registro" height="25px">
              </div>
          </div>
      </div>
    </div>

    <script>
      function cadastrarProduto() {
        document.getElementById("container").style.display = "none";
        document.getElementById("container-products").style.display = "block";
        document.getElementById("container-lista-produtos").style.display = "none";
      }

      function fecharcontainer() {
        document.getElementById("container-products").style.display = "none";
        document.getElementById("container-lista-produtos").style.display = "none";
        document.getElementById("container").style.display = "block";
      }

      function editarProduto(id) {

      }

      function excluirProduto(id) {

      }
    

      async function enviarCadastro() {
        const nome = document.getElementById("nome").value;
        const descricao = document.getElementById("descricao").value;
        const preco = document.getElementById("preco").value;
        const peso = document.getElementById("peso").value;

        const produto = { name: nome, description: descricao, price: preco, weight: peso };

        try {
          const response = await fetch('http://localhost:8090/api/products', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(produto)
          });

          if (response.ok) {
            alert("Produto cadastrado com sucesso!");
            fecharcontainer();
          } else {
            alert("Erro ao cadastrar o produto!");
          }
        } catch (error) {
          console.error("Erro ao cadastrar produto:", error);
          alert("Erro ao cadastrar o produto!");
        }
      }
      function listarProdutos(){
          let exibirlistaProdutos = document.getElementById("container-lista-produtos")
          exibirlistaProdutos.style.display = "block"


        }
    </script>
  </body>
</html>